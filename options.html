<!DOCTYPE html>
<html lang="en" class="pOptions">
<head>
    <!-- Metadonnées -->
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="Sohan Anampalli & Arsène Brosy" name="author">
    <meta content="Création, site, internet, web, design" name="keywords">
    <meta content="Creez vos sites web avec des pros a mini-prix" name="description">

    <!-- Titre -->
    <title>Devcastle - Création de site webs a mini-prix</title>

    <!-- CSS -->
    <link href="../css/fonts/fonts.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
</head>
<body>

<div class="cartes">
    <div class="rdvDiv">
        <h2>Prendre rendez-vous</h2>
        <p class="avantage1">Beaucoup plus précis</p>
        <p class="avantage">Expliquez-nous vos idées en face</p>
        <p>Prenez rendez-vous avec nous pour nous expliquer vos idées et vos envies</p>
        <ul>
            <li>Rendez-vous en présentiel en Suisse</li>
            <li>Visioconférence</li>
        </ul>

        <input id="continueRdv" type="submit" value="continuer">
    </div>
    <div class="propreDiv">
        <h2>Utiliser nos services</h2>
        <p class="avantage1">Beaucoup plus rapide</p>
        <p class="avantage">Faites tout depuis chez vous</p>
        <p>Donnez toutes les informations que vous souhaitez obtenir sur votre site internet directement sur notre site</p>
        <ul>
            <li>Textes à afficher sur votre site</li>
            <li>Couleurs de votre site internet</li>
            <li>Images à afficher sur votre site internet</li>
        </ul>
        <input id="continueSite" type="submit" value="continuer">
    </div>

</div>

<script type="module">
    import {initializeApp} from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
    import {getAuth, onAuthStateChanged, signOut} from "https://www.gstatic.com/firebasejs/9.19.1/firebase-auth.js";
    import {getDatabase, set, ref, update, onValue} from "https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyDpxXNFrji99t8a6QTcKhCmgIdA0ibs_lk",
        authDomain: "webcastle-website.firebaseapp.com",
        databaseURL: "https://webcastle-website-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "webcastle-website",
        storageBucket: "webcastle-website.appspot.com",
        messagingSenderId: "274339465548",
        appId: "1:274339465548:web:927dd550601c84dffce7e9"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const database = getDatabase(app);

    continueRdv.addEventListener('click', (e) => {

        const user = auth.currentUser;

        update(ref(database, 'users/' + user.uid), {
            status: "rdv",
        });

        setTimeout(changePage, 500)
        function changePage() {
            window.location.href = "rendezvous.html";
        }

    });

    continueSite.addEventListener('click', (e) => {
        const user = auth.currentUser;

        update(ref(database, 'users/' + user.uid), {
            status: "design",
        });

        setTimeout(changePage, 500)
        function changePage() {
            window.location.href = "site-information.html";
        }
    });

</script>

</body>
</html>